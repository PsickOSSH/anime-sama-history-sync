<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Token Google - Anime Sama Sync</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      color: white;
      padding: 20px;
      text-align: center;
    }
    .container {
      max-width: 600px;
      background: rgba(255, 255, 255, 0.05);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    .success { 
      font-size: 80px; 
      margin-bottom: 20px;
      animation: bounce 0.6s ease-out;
    }
    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    h1 { 
      color: #60a5fa; 
      margin: 20px 0; 
      font-size: 28px; 
    }
    .instruction { 
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(37, 99, 235, 0.3));
      padding: 25px; 
      border-radius: 15px; 
      margin: 30px 0;
      border: 1px solid rgba(59, 130, 246, 0.5);
    }
    .step {
      font-size: 18px;
      font-weight: bold;
      color: #60a5fa;
      margin-bottom: 15px;
    }
    .token-box {
      background: rgba(15, 23, 42, 0.9);
      border: 2px solid #10b981;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      word-break: break-all;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      color: #34d399;
    }
    .copy-btn {
      display: inline-block;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 15px 40px;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 15px;
      font-size: 18px;
      transition: all 0.3s ease;
    }
    .copy-btn:hover {
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(16, 185, 129, 0.5);
    }
    .detail {
      font-size: 16px;
      color: #cbd5e1;
      line-height: 1.6;
      margin: 15px 0;
    }
    .error {
      background: rgba(239, 68, 68, 0.2);
      border: 1px solid rgba(239, 68, 68, 0.4);
      color: #f87171;
      padding: 20px;
      border-radius: 12px;
    }
    .language-selector {
      position: absolute;
      top: 20px;
      right: 20px;
    }
    .lang-btn {
      background: rgba(59, 130, 246, 0.15);
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 8px;
      padding: 8px 12px;
      color: #60a5fa;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    .lang-btn:hover {
      background: rgba(59, 130, 246, 0.25);
      transform: scale(1.05);
    }
    select {
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(59, 130, 246, 0.3);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
    }
    select option {
      background: #0a0e27;
    }
  </style>
</head>
<body>
  <!-- SÃ©lecteur de langue -->
  <div class="language-selector">
    <select id="langSelect" class="lang-btn">
      <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
      <option value="en">ğŸ‡¬ğŸ‡§ English</option>
      <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
      <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
      <option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
      <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
      <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
      <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
    </select>
  </div>

  <div class="container">
    <div id="content">
      <!-- Rempli par JavaScript -->
    </div>
  </div>
  
  <script>
    // ========================================
    // TRADUCTIONS
    // ========================================
    const translations = {
      fr: {
        authSuccess: "Authentification rÃ©ussie!",
        yourToken: "ğŸ“‹ Votre token Google:",
        copyBtn: "ğŸ“‹ Copier",
        copyInfo: "Copiez le token et retournez vers l'extension pour le coller",
        tokenCopied: "Token copiÃ©!",
        tokenCopiedInfo: "Le token a Ã©tÃ© copiÃ© dans votre presse-papier.<br><br><strong>Retournez Ã  l'onglet de l'extension et collez le token.</strong><br><br>Vous pouvez fermer cet onglet.",
        error: "âŒ Erreur",
        noParams: "Aucun paramÃ¨tre reÃ§u de Google.",
        authError: "Erreur d'authentification:",
        tokenMissing: "âŒ Token manquant",
        tokenNotReceived: "Le token d'accÃ¨s n'a pas Ã©tÃ© reÃ§u."
      },
      en: {
        authSuccess: "Authentication successful!",
        yourToken: "ğŸ“‹ Your Google token:",
        copyBtn: "ğŸ“‹ Copy",
        copyInfo: "Copy the token and return to the extension to paste it",
        tokenCopied: "Token copied!",
        tokenCopiedInfo: "The token has been copied to your clipboard.<br><br><strong>Return to the extension tab and paste the token.</strong><br><br>You can close this tab.",
        error: "âŒ Error",
        noParams: "No parameters received from Google.",
        authError: "Authentication error:",
        tokenMissing: "âŒ Token missing",
        tokenNotReceived: "The access token was not received."
      },
      es: {
        authSuccess: "Â¡AutenticaciÃ³n exitosa!",
        yourToken: "ğŸ“‹ Tu token de Google:",
        copyBtn: "ğŸ“‹ Copiar",
        copyInfo: "Copia el token y regresa a la extensiÃ³n para pegarlo",
        tokenCopied: "Â¡Token copiado!",
        tokenCopiedInfo: "El token se ha copiado en tu portapapeles.<br><br><strong>Regresa a la pestaÃ±a de la extensiÃ³n y pega el token.</strong><br><br>Puedes cerrar esta pestaÃ±a.",
        error: "âŒ Error",
        noParams: "No se recibieron parÃ¡metros de Google.",
        authError: "Error de autenticaciÃ³n:",
        tokenMissing: "âŒ Token faltante",
        tokenNotReceived: "No se recibiÃ³ el token de acceso."
      },
      de: {
        authSuccess: "Authentifizierung erfolgreich!",
        yourToken: "ğŸ“‹ Ihr Google-Token:",
        copyBtn: "ğŸ“‹ Kopieren",
        copyInfo: "Kopieren Sie das Token und kehren Sie zur Erweiterung zurÃ¼ck, um es einzufÃ¼gen",
        tokenCopied: "Token kopiert!",
        tokenCopiedInfo: "Das Token wurde in Ihre Zwischenablage kopiert.<br><br><strong>Kehren Sie zum Erweiterungs-Tab zurÃ¼ck und fÃ¼gen Sie das Token ein.</strong><br><br>Sie kÃ¶nnen diesen Tab schlieÃŸen.",
        error: "âŒ Fehler",
        noParams: "Keine Parameter von Google erhalten.",
        authError: "Authentifizierungsfehler:",
        tokenMissing: "âŒ Token fehlt",
        tokenNotReceived: "Das Zugriffstoken wurde nicht empfangen."
      },
      it: {
        authSuccess: "Autenticazione riuscita!",
        yourToken: "ğŸ“‹ Il tuo token Google:",
        copyBtn: "ğŸ“‹ Copia",
        copyInfo: "Copia il token e torna all'estensione per incollarlo",
        tokenCopied: "Token copiato!",
        tokenCopiedInfo: "Il token Ã¨ stato copiato negli appunti.<br><br><strong>Torna alla scheda dell'estensione e incolla il token.</strong><br><br>Puoi chiudere questa scheda.",
        error: "âŒ Errore",
        noParams: "Nessun parametro ricevuto da Google.",
        authError: "Errore di autenticazione:",
        tokenMissing: "âŒ Token mancante",
        tokenNotReceived: "Il token di accesso non Ã¨ stato ricevuto."
      },
      ja: {
        authSuccess: "èªè¨¼æˆåŠŸï¼",
        yourToken: "ğŸ“‹ ã‚ãªãŸã®Googleãƒˆãƒ¼ã‚¯ãƒ³:",
        copyBtn: "ğŸ“‹ ã‚³ãƒ”ãƒ¼",
        copyInfo: "ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ‹¡å¼µæ©Ÿèƒ½ã«æˆ»ã£ã¦è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„",
        tokenCopied: "ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸï¼",
        tokenCopiedInfo: "ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸã€‚<br><br><strong>æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¿ãƒ–ã«æˆ»ã£ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</strong><br><br>ã“ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚",
        error: "âŒ ã‚¨ãƒ©ãƒ¼",
        noParams: "Googleã‹ã‚‰ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ä¿¡ã—ã¦ã„ã¾ã›ã‚“ã€‚",
        authError: "èªè¨¼ã‚¨ãƒ©ãƒ¼:",
        tokenMissing: "âŒ ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“",
        tokenNotReceived: "ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãŒå—ä¿¡ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚"
      },
      pt: {
        authSuccess: "AutenticaÃ§Ã£o bem-sucedida!",
        yourToken: "ğŸ“‹ Seu token do Google:",
        copyBtn: "ğŸ“‹ Copiar",
        copyInfo: "Copie o token e volte para a extensÃ£o para colÃ¡-lo",
        tokenCopied: "Token copiado!",
        tokenCopiedInfo: "O token foi copiado para sua Ã¡rea de transferÃªncia.<br><br><strong>Volte para a aba da extensÃ£o e cole o token.</strong><br><br>VocÃª pode fechar esta aba.",
        error: "âŒ Erro",
        noParams: "Nenhum parÃ¢metro recebido do Google.",
        authError: "Erro de autenticaÃ§Ã£o:",
        tokenMissing: "âŒ Token ausente",
        tokenNotReceived: "O token de acesso nÃ£o foi recebido."
      },
      zh: {
        authSuccess: "è®¤è¯æˆåŠŸï¼",
        yourToken: "ğŸ“‹ æ‚¨çš„Googleä»¤ç‰Œ:",
        copyBtn: "ğŸ“‹ å¤åˆ¶",
        copyInfo: "å¤åˆ¶ä»¤ç‰Œå¹¶è¿”å›æ‰©å±•ç¨‹åºè¿›è¡Œç²˜è´´",
        tokenCopied: "ä»¤ç‰Œå·²å¤åˆ¶ï¼",
        tokenCopiedInfo: "ä»¤ç‰Œå·²å¤åˆ¶åˆ°æ‚¨çš„å‰ªè´´æ¿ã€‚<br><br><strong>è¿”å›æ‰©å±•ç¨‹åºé€‰é¡¹å¡å¹¶ç²˜è´´ä»¤ç‰Œã€‚</strong><br><br>æ‚¨å¯ä»¥å…³é—­æ­¤é€‰é¡¹å¡ã€‚",
        error: "âŒ é”™è¯¯",
        noParams: "æœªä»Googleæ”¶åˆ°å‚æ•°ã€‚",
        authError: "è®¤è¯é”™è¯¯:",
        tokenMissing: "âŒ ä»¤ç‰Œç¼ºå¤±",
        tokenNotReceived: "æœªæ”¶åˆ°è®¿é—®ä»¤ç‰Œã€‚"
      },
      ru: {
        authSuccess: "ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑƒÑĞ¿ĞµÑˆĞ½Ğ°!",
        yourToken: "ğŸ“‹ Ğ’Ğ°Ñˆ Ñ‚Ğ¾ĞºĞµĞ½ Google:",
        copyBtn: "ğŸ“‹ ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ",
        copyInfo: "Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ‚Ğ¾ĞºĞµĞ½ Ğ¸ Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğº Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ñ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ²ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞµĞ³Ğ¾",
        tokenCopied: "Ğ¢Ğ¾ĞºĞµĞ½ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½!",
        tokenCopiedInfo: "Ğ¢Ğ¾ĞºĞµĞ½ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ² Ğ±ÑƒÑ„ĞµÑ€ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°.<br><br><strong>Ğ’ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° Ğ²ĞºĞ»Ğ°Ğ´ĞºÑƒ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ñ‚Ğ¾ĞºĞµĞ½.</strong><br><br>Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ ÑÑ‚Ñƒ Ğ²ĞºĞ»Ğ°Ğ´ĞºÑƒ.",
        error: "âŒ ĞÑˆĞ¸Ğ±ĞºĞ°",
        noParams: "ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ½Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ñ‹ Ğ¾Ñ‚ Google.",
        authError: "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸:",
        tokenMissing: "âŒ Ğ¢Ğ¾ĞºĞµĞ½ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚",
        tokenNotReceived: "Ğ¢Ğ¾ĞºĞµĞ½ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğ½Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½."
      },
      ar: {
        authSuccess: "Ù†Ø¬Ø­Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©!",
        yourToken: "ğŸ“‹ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Google:",
        copyBtn: "ğŸ“‹ Ù†Ø³Ø®",
        copyInfo: "Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø² ÙˆØ§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØµÙ‚Ù‡",
        tokenCopied: "ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø²!",
        tokenCopiedInfo: "ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©.<br><br><strong>Ø§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¶Ø§ÙØ© ÙˆØ§Ù„ØµÙ‚ Ø§Ù„Ø±Ù…Ø².</strong><br><br>ÙŠÙ…ÙƒÙ†Ùƒ Ø¥ØºÙ„Ø§Ù‚ Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ù‡Ø°Ù‡.",
        error: "âŒ Ø®Ø·Ø£",
        noParams: "Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ù† Google.",
        authError: "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©:",
        tokenMissing: "âŒ Ø§Ù„Ø±Ù…Ø² Ù…ÙÙ‚ÙˆØ¯",
        tokenNotReceived: "Ù„Ù… ÙŠØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ù…Ø² Ø§Ù„ÙˆØµÙˆÙ„."
      }
    };

    // ========================================
    // DÃ‰TECTION ET CHANGEMENT DE LANGUE
    // ========================================
    
    function getBrowserLanguage() {
      const lang = navigator.language || navigator.userLanguage;
      const langCode = lang.split('-')[0];
      return translations[langCode] ? langCode : 'en';
    }

    let currentLang = getBrowserLanguage();
    
    // Initialiser le sÃ©lecteur de langue
    document.getElementById('langSelect').value = currentLang;
    
    // Ã‰couter les changements de langue
    document.getElementById('langSelect').addEventListener('change', function(e) {
      currentLang = e.target.value;
      processOAuthCallback(); // Recharger le contenu traduit
    });

    // ========================================
    // TRAITEMENT OAUTH
    // ========================================
    
    function processOAuthCallback() {
      const contentEl = document.getElementById('content');
      const t = translations[currentLang];
      
      try {
        const hash = window.location.hash.substring(1);
        
        if (!hash) {
          contentEl.innerHTML = `
            <div class="error">
              <h1>${t.error}</h1>
              <p>${t.noParams}</p>
            </div>
          `;
          return;
        }
        
        const params = new URLSearchParams(hash);
        const accessToken = params.get('access_token');
        const error = params.get('error');
        
        if (error) {
          contentEl.innerHTML = `
            <div class="error">
              <h1>${t.error}</h1>
              <p>${t.authError} ${error}</p>
            </div>
          `;
          return;
        }
        
        if (!accessToken) {
          contentEl.innerHTML = `
            <div class="error">
              <h1>${t.tokenMissing}</h1>
              <p>${t.tokenNotReceived}</p>
            </div>
          `;
          return;
        }
        
        // Afficher le token
        contentEl.innerHTML = `
          <div class="success">âœ…</div>
          <h1>${t.authSuccess}</h1>
          
          <div class="instruction">
            <div class="step">${t.yourToken}</div>
            <div class="token-box" id="tokenBox">${accessToken}</div>
            <button class="copy-btn" id="copyBtn">${t.copyBtn}</button>
          </div>
          
          <div class="detail" style="color: #94a3b8; font-size: 14px; margin-top: 20px;">
            ${t.copyInfo}
          </div>
        `;
        
        // Bouton copier + redirection
        document.getElementById('copyBtn').addEventListener('click', function() {
          // Copier dans le presse-papier
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(accessToken).then(function() {
              redirectToExtension();
            }).catch(function() {
              fallbackCopy();
              redirectToExtension();
            });
          } else {
            fallbackCopy();
            redirectToExtension();
          }
          
          function fallbackCopy() {
            const textArea = document.createElement('textarea');
            textArea.value = accessToken;
            textArea.style.position = 'fixed';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
              document.execCommand('copy');
            } catch (err) {
              console.error('Copy failed:', err);
            }
            
            document.body.removeChild(textArea);
          }
          
          function redirectToExtension() {
            try {
              localStorage.setItem('temp_google_token', accessToken);
              localStorage.setItem('temp_token_time', Date.now());
            } catch (e) {
              console.log('LocalStorage not available');
            }
            
            // Mapping des drapeaux pour la langue
            const langFlags = {
              fr: 'ğŸ‡«ğŸ‡· FranÃ§ais',
              en: 'ğŸ‡¬ğŸ‡§ English',
              es: 'ğŸ‡ªğŸ‡¸ EspaÃ±ol',
              de: 'ğŸ‡©ğŸ‡ª Deutsch',
              it: 'ğŸ‡®ğŸ‡¹ Italiano',
              pt: 'ğŸ‡µğŸ‡¹ PortuguÃªs',
              ru: 'ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹',
              ar: 'ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
              ja: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª',
              zh: 'ğŸ‡¨ğŸ‡³ ä¸­æ–‡'
            };
            
            document.body.innerHTML = `
              <div class="language-selector">
                <select id="langSelect" class="lang-btn" disabled>
                  <option>${langFlags[currentLang] || 'ğŸ‡¬ğŸ‡§ English'}</option>
                </select>
              </div>
              <div class="container">
                <div class="success">âœ…</div>
                <h1 style="color: #10b981;">${t.tokenCopied}</h1>
                <div class="instruction">
                  <div class="detail">
                    ${t.tokenCopiedInfo}
                  </div>
                </div>
              </div>
            `;
            
            setTimeout(function() {
              window.close();
            }, 2000);
          }
        });
        
      } catch (e) {
        contentEl.innerHTML = `
          <div class="error">
            <h1>${t.error}</h1>
            <p>${e.message}</p>
          </div>
        `;
      }
    }
    
    // Lancer le traitement au chargement
    processOAuthCallback();
  </script>
</body>
</html>
